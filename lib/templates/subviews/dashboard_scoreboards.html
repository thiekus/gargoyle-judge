<div class="row">
    <div class="col-12 col-md-9">
        <div class="card">
            <div class="card-header">
                <h4 class="card-title text-center">Daftar Papan Skor</h4>
            </div>
            <div class="card-content collapse show">
                <div class="card-body">
                    <p>There are {{.PageData.Count}} contests here.</p>
                    <div class="table-responsive">
                        <table class="table table-hover table-bordered">
                            <thead class="thead-dark">
                                <tr>
                                    <th width="50%">
                                        <i class="fas fa-fire mr-1"></i> Contest
                                        Name
                                    </th>
                                    <th width="20%">
                                        <i class="fas fa-user mr-1"></i>
                                        Contestant
                                    </th>
                                    <th width="10%">Public?</th>
                                    <th width="20%">
                                        <i class="fas fa-running mr-1"></i>
                                        Action
                                    </th>
                                </tr>
                            </thead>
                            <tbody>
                                {{$baseUrl := .BaseUrl}}
                                {{with .PageData.ScoreboardList}}
                                {{range .}}
                                <tr>
                                    <td>{{.ContestName}}</td>
                                    <td>{{.ContestantCount}} orang</td>
                                    <td>{{.AllowPublic}}</td>
                                    <td class="text-center">
                                        <a
                                            class="btn btn-success btn-sm"
                                            href="{{$baseUrl}}dashboard/scoreboard/{{.ContestId}}"
                                            ><i class="far fa-eye mr-1"></i>
                                            View</a
                                        >
                                    </td>
                                </tr>
                                {{end}}
                                {{end}}
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="col-12 col-md-3">
        <!-- Profil Kanan -->
        <div class="card">
            <div class="text-center">
                <div class="card-body">
                    <img
                        src="{{.BaseUrl}}avatar/{{.UserData.Avatar}}"
                        class="rounded-circle"
                        alt="Card image"
                        style="height: 150px"
                    />
                </div>
                <div class="card-body">
                    <h4 class="card-title">{{.UserData.DisplayName}}</h4>
                    <h6 class="card-subtitle text-muted">
                        <div class="badge badge-primary mb-2">
                            {{.UserData.Roles.RoleName}}
                        </div>
                        <br />
                        <i class="fas fa-university mr-1 mb-2"></i>
                        {{.UserData.Institution}}
                        <br />
                        <i class="fas fa-map-marker-alt mr-1 mb-2"></i>
                        {{.UserData.Address}}
                    </h6>
                </div>
                <div class="text-center">
                    <a
                        href="{{.BaseUrl}}dashboard/profile"
                        class="btn btn-primary round btn-min-width mb-2"
                        ><i class="fas fa-user-edit mr-1"></i> Edit Profile</a
                    >
                </div>
                <br />
            </div>
        </div>
        <!-- Onlyn card -->
        <div class="card">
            <div class="card-header">
                <h4 class="card-title text-center">Online Users</h4>
            </div>
            <div class="card-content collapse show">
                <div class="card-body">
                    {{if gt .PageData.OnlineUsers.Count 0}}
                    <p>
                        There are {{.PageData.OnlineUsers.Count}} online users
                        from last 5 minutes.
                    </p>
                    <div class="card">
                        <div class="card-body">
                            <div
                                id="onlineOverflow"
                                class="overflow-auto"
                                style="max-height: 160px"
                            >
                                <style>
                                    td.more-padding {
                                        padding: 6px;
                                    }
                                </style>
                                <table>
                                    <tbody>
                                        {{$baseUrl:=.BaseUrl}} {{with
                                        .PageData.OnlineUsers.Users}} {{range
                                        .}}
                                        <tr>
                                            <td
                                                class="more-padding align-middle"
                                            >
                                                <img
                                                    src="{{$baseUrl}}avatar/{{.Avatar}}"
                                                    class="rounded-circle"
                                                    alt="{{.DisplayName}}"
                                                    style="width: 40px"
                                                />
                                            </td>
                                            <td
                                                class="more-padding align-middle"
                                            >
                                                {{.DisplayName}}<br />
                                                <small
                                                    ><i
                                                        class="fas fa-user-clock mr-1"
                                                    ></i>
                                                    Since {{.TimeStatus}}</small
                                                >
                                            </td>
                                        </tr>
                                        {{end}} {{end}}
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                    {{else}}
                    <p>No online users from last 5 minutes!</p>
                    {{end}}
                </div>
            </div>
        </div>
        <!-- Onlyn card end -->
    </div>
</div>

<script id="gySubviewScript">
    function subviewInit() {}
</script>
